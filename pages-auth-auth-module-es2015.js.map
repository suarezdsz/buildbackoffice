{"version":3,"sources":["./src/app/pages/auth/auth-routing.module.ts","./src/app/pages/auth/login/login.component.html","./src/app/pages/auth/login/login.component.ts","./src/app/pages/auth/auth.component.scss","./src/app/pages/auth/auth.component.ts","./src/app/pages/auth/auth.component.html","./src/app/pages/auth/auth.module.ts","./src/app/utils/custom-validators.ts"],"names":[],"mappings":"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","file":"pages-auth-auth-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\n\n\nconst routes: Routes = [{\n  path: '',\n  component: LoginComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthRoutingModule { }\n","export default \"<div class=\\\"app-body\\\">\\n  <main class=\\\"main d-flex align-items-center\\\">\\n    <div class=\\\"container\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-8 mx-auto\\\">\\n          <div class=\\\"card-group\\\">\\n            <div class=\\\"card p-4\\\">\\n              <div class=\\\"card-body\\\">\\n                <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n                  <h1>Login</h1>\\n                  <p class=\\\"text-muted\\\">Sign In to your account</p>\\n                  <div class=\\\"input-group mb-3\\\">\\n                    <div class=\\\"input-group-prepend\\\">\\n                      <span class=\\\"input-group-text\\\"><i class=\\\"icon-user\\\"></i></span>\\n                    </div>\\n                    <input formControlName=\\\"email\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Username\\\" autocomplete=\\\"username\\\" required>\\n                  </div>\\n                  <div class=\\\"input-group mb-4\\\">\\n                    <div class=\\\"input-group-prepend\\\">\\n                      <span class=\\\"input-group-text\\\"><i class=\\\"icon-lock\\\"></i></span>\\n                    </div>\\n                    <input formControlName=\\\"password\\\" type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" autocomplete=\\\"current-password\\\" required>\\n                  </div>\\n                  <div class=\\\"row\\\">\\n                    <div class=\\\"col-6\\\">\\n                      <button type=\\\"submit\\\" class=\\\"btn btn-primary px-4\\\">Login</button>\\n                    </div>\\n                    <div class=\\\"col-6 text-right\\\">\\n                      <button type=\\\"button\\\" class=\\\"btn btn-link px-0\\\">Forgot password?</button>\\n                    </div>\\n                  </div>\\n                </form>\\n              </div>\\n            </div>\\n            <div class=\\\"card text-white bg-primary py-5 d-md-down-none\\\" style=\\\"width:44%\\\">\\n              <div class=\\\"card-body text-center\\\">\\n                <div>\\n                  <h2>Sign up</h2>\\n                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\\n                  <button type=\\\"button\\\" class=\\\"btn btn-primary active mt-3\\\">Register Now!</button>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </main>\\n</div>\\n\";","import { Component } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../../services/auth.service';\nimport { UserService } from '../../../services/user.service';\nimport { CustomValidators } from '../../../utils/custom-validators';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: 'login.component.html'\n})\nexport class LoginComponent {\n  public wait: boolean = false;\n\n  public form: FormGroup = this.formBuilder.group({\n    email: ['', [Validators.required, CustomValidators.isValidEmail]],\n    password: ['', [Validators.required]]\n  });\n\n  constructor(\n    private formBuilder: FormBuilder,\n    public userService: UserService,\n    public authService: AuthService,\n    private router: Router\n  ) {\n    const token = this.authService.getToken();\n    if (!!token) {\n      console.log('hola')\n      this.router.navigate(['/dashboard']);\n    }\n\n  }\n\n  get email(): AbstractControl | null {\n    return this.form.get('email');\n  }\n  get password(): AbstractControl | null {\n    return this.form.get('password');\n  }\n\n  async onSubmit() {\n    if (this.form.invalid) {\n      this.form.markAllAsTouched();\n      return;\n    }\n    let user = {\n      email: !!this.email ? this.email.value : '',\n      password: !!this.password ? this.password.value : ''\n    };\n    this.wait = true;\n    this.authService.authentication(user).subscribe(\n      (res) => {\n        console.log('pave')\n        this.authService.loginSave(res.data.email, res.data.token);\n        this.router.navigate(['/dashboard']);\n        this.wait = false;\n      },\n      ({ error }) => {\n        this.wait = false;\n      }\n    );\n  }\n }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhdXRoLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss']\n})\nexport class AuthComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","export default \"\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { AuthComponent } from './auth.component';\nimport { LoginComponent } from './login/login.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [\n    AuthComponent,\n    LoginComponent\n  ],\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    FormsModule,\n    ReactiveFormsModule\n  ]\n})\nexport class AuthModule { }\n","import { Validators } from '@angular/forms';\r\nexport class CustomValidators {\r\n  static readonly isValidEmail = Validators.pattern(\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n  );\r\n\r\n  static readonly isValidPassword = Validators.pattern(\r\n    /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\\^$*.\\[\\]{}\\(\\)?\\-\\\"@#%&\\/,><\\':;|_~`])?\\S{8,99}$/,\r\n  );\r\n}\r\n"],"sourceRoot":"webpack:///"}