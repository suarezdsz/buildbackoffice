{"version":3,"sources":["webpack:///src/app/pages/auth/auth-routing.module.ts","webpack:///src/app/pages/auth/login/login.component.html","webpack:///src/app/pages/auth/login/login.component.ts","webpack:///src/app/pages/auth/auth.component.scss","webpack:///src/app/pages/auth/auth.component.ts","webpack:///src/app/pages/auth/auth.component.html","webpack:///src/app/pages/auth/auth.module.ts","webpack:///src/app/utils/custom-validators.ts"],"names":["routes","path","component","AuthRoutingModule","imports","forChild","exports","LoginComponent","formBuilder","userService","authService","router","wait","form","group","email","required","isValidEmail","password","token","getToken","console","log","navigate","get","invalid","markAllAsTouched","user","value","authentication","subscribe","res","loginSave","data","error","selector","template","AuthComponent","AuthModule","declarations","CustomValidators","pattern","isValidPassword"],"mappings":"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","file":"pages-auth-auth-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\n\n\nconst routes: Routes = [{\n  path: '',\n  component: LoginComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthRoutingModule { }\n","export default \"<div class=\\\"app-body\\\">\\n  <main class=\\\"main d-flex align-items-center\\\">\\n    <div class=\\\"container\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-8 mx-auto\\\">\\n          <div class=\\\"card-group\\\">\\n            <div class=\\\"card p-4\\\">\\n              <div class=\\\"card-body\\\">\\n                <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n                  <h1>Login</h1>\\n                  <p class=\\\"text-muted\\\">Sign In to your account</p>\\n                  <div class=\\\"input-group mb-3\\\">\\n                    <div class=\\\"input-group-prepend\\\">\\n                      <span class=\\\"input-group-text\\\"><i class=\\\"icon-user\\\"></i></span>\\n                    </div>\\n                    <input formControlName=\\\"email\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Username\\\" autocomplete=\\\"username\\\" required>\\n                  </div>\\n                  <div class=\\\"input-group mb-4\\\">\\n                    <div class=\\\"input-group-prepend\\\">\\n                      <span class=\\\"input-group-text\\\"><i class=\\\"icon-lock\\\"></i></span>\\n                    </div>\\n                    <input formControlName=\\\"password\\\" type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" autocomplete=\\\"current-password\\\" required>\\n                  </div>\\n                  <div class=\\\"row\\\">\\n                    <div class=\\\"col-6\\\">\\n                      <button type=\\\"submit\\\" class=\\\"btn btn-primary px-4\\\">Login</button>\\n                    </div>\\n                    <div class=\\\"col-6 text-right\\\">\\n                      <button type=\\\"button\\\" class=\\\"btn btn-link px-0\\\">Forgot password?</button>\\n                    </div>\\n                  </div>\\n                </form>\\n              </div>\\n            </div>\\n            <div class=\\\"card text-white bg-primary py-5 d-md-down-none\\\" style=\\\"width:44%\\\">\\n              <div class=\\\"card-body text-center\\\">\\n                <div>\\n                  <h2>Sign up</h2>\\n                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\\n                  <button type=\\\"button\\\" class=\\\"btn btn-primary active mt-3\\\">Register Now!</button>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </main>\\n</div>\\n\";","import { Component } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../../services/auth.service';\nimport { UserService } from '../../../services/user.service';\nimport { CustomValidators } from '../../../utils/custom-validators';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: 'login.component.html'\n})\nexport class LoginComponent {\n  public wait: boolean = false;\n\n  public form: FormGroup = this.formBuilder.group({\n    email: ['', [Validators.required, CustomValidators.isValidEmail]],\n    password: ['', [Validators.required]]\n  });\n\n  constructor(\n    private formBuilder: FormBuilder,\n    public userService: UserService,\n    public authService: AuthService,\n    private router: Router\n  ) {\n    const token = this.authService.getToken();\n    if (!!token) {\n      console.log('hola')\n      this.router.navigate(['/dashboard']);\n    }\n\n  }\n\n  get email(): AbstractControl | null {\n    return this.form.get('email');\n  }\n  get password(): AbstractControl | null {\n    return this.form.get('password');\n  }\n\n  async onSubmit() {\n    if (this.form.invalid) {\n      this.form.markAllAsTouched();\n      return;\n    }\n    let user = {\n      email: !!this.email ? this.email.value : '',\n      password: !!this.password ? this.password.value : ''\n    };\n    this.wait = true;\n    this.authService.authentication(user).subscribe(\n      (res) => {\n        console.log('pave')\n        this.authService.loginSave(res.data.email, res.data.token);\n        this.router.navigate(['/dashboard']);\n        this.wait = false;\n      },\n      ({ error }) => {\n        this.wait = false;\n      }\n    );\n  }\n }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhdXRoLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss']\n})\nexport class AuthComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","export default \"\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { AuthComponent } from './auth.component';\nimport { LoginComponent } from './login/login.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [\n    AuthComponent,\n    LoginComponent\n  ],\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    FormsModule,\n    ReactiveFormsModule\n  ]\n})\nexport class AuthModule { }\n","import { Validators } from '@angular/forms';\r\nexport class CustomValidators {\r\n  static readonly isValidEmail = Validators.pattern(\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n  );\r\n\r\n  static readonly isValidPassword = Validators.pattern(\r\n    /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\\^$*.\\[\\]{}\\(\\)?\\-\\\"@#%&\\/,><\\':;|_~`])?\\S{8,99}$/,\r\n  );\r\n}\r\n"]}